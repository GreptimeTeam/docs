---
keywords: [版本升级, 升级步骤, 数据库升级]
description: 介绍如何将 GreptimeDB 升级到最新版本，包括一些不兼容的变更和升级具体步骤。
---

# 版本升级

## 如何升级 GreptimeDB

如果你当前部署的 GreptimeDB 版本是 v0.12 或更高版本，v0.14 完全兼容现有的数据库配置和数据格式，可以直接进行升级。若你使用的是 v0.12 之前的版本，建议先参考 v0.12 的升级文档将数据库升级至 v0.12，然后再升级到 v0.14，以确保兼容性和平稳过渡。

## 将升级对业务带来的影响最小化

在升级 GreptimeDB 之前，请全面备份数据以防止潜在的数据丢失。
此备份作为升级过程中出现任何问题时的安全保障。

为最大限度降低升级对业务的影响，我们推荐以下可选实践：
- **滚动升级：** 在 Kubernetes 上采用[滚动升级](https://kubernetes.io/docs/tutorials/kubernetes-basics/update/update-intro/)策略逐步更替 GreptimeDB 实例。
该方案通过新旧实例渐进式替换，在确保服务持续可用的前提下实现零停机升级。
- **客户端重试机制：** 建议在客户端配置具备指数退避特性的自动重试策略，
可有效规避升级过程中的瞬时服务不可用问题。
- **写操作熔断：** 对于允许短暂维护的业务场景，
可在升级窗口期暂时停止写入操作，
此方案能最大限度保障数据一致性。
- **双写迁移方案**：实施新旧版本双写机制，
待新版本验证通过后逐步切换流量。
该方案既能确保数据一致性校验，
又可实现读流量灰度迁移。
