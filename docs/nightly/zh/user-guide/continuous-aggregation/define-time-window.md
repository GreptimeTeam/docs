# 定义时间窗口

时间窗口是连续聚合查询中的一个关键属性，它决定了数据在流中的聚合方式。
这些时间窗口是左闭右开的间隔。

时间窗口表示特定的时间范围，
源表中的数据根据时间索引列映射到相应的窗口。
每个时间窗口对应一个聚合表达式的计算，结果是存储到表中的一行数据。

要定义一个时间窗口，可以使用 `date_bin(interval, expression, origin-timestamp)` 函数。
该函数计算时间间隔，并返回最接近指定时间戳的间隔的起始时间。
通过使用 `date_bin` ，可以将时间序列数据进行降采样，将行分组到基于时间的容器或窗口中，并对每个窗口应用聚合或选择器函数。

例如，如果将数据分组或窗口化为 15 分钟间隔，输入时间戳 `2023-01-01T18:18:18Z` 将被调整为所属的 15 分钟容器的起始时间：`2023-01-01T18:15:00Z`。

```sql
date_bin(interval, expression, origin-timestamp)
```

参数说明如下：

- `interval`：容器的时间间隔。
- `expression`：要操作的时间表达式。可以是常量、列或函数。
- `origin-timestamp`：可选。用于确定时间窗口边界的起始点。如果未指定，默认为 1970-01-01T00:00:00Z（UNIX 纪元时间，以 UTC 为准）。
